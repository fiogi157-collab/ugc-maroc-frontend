Prompt technique ‚Äî Cr√©ation d‚Äôun syst√®me de paiement Escrow pour UGC Maroc

Cr√©e un syst√®me complet de paiement Escrow s√©curis√© int√©gr√© dans une plateforme web nomm√©e UGC Maroc.

Objectif : s√©curiser les transactions entre les marques (brands) et les cr√©ateurs (cr√©atifs UGC).

‚öôÔ∏è Fonctionnalit√©s principales :

Cr√©ation d‚Äôun contrat Escrow par campagne :

Lorsqu‚Äôune marque cr√©e une campagne et choisit un budget, ce budget est bloqu√© dans un compte Escrow virtuel.

Les fonds ne sont pas transf√©r√©s au cr√©ateur avant validation du contenu.

√âtats du paiement :

pending_funds ‚Üí fonds d√©pos√©s par la marque, en attente de validation.

under_review ‚Üí le cr√©ateur a soumis le contenu, la marque √©value.

released ‚Üí la marque valide, les fonds sont lib√©r√©s vers le cr√©ateur.

disputed ‚Üí en cas de litige, les fonds restent bloqu√©s.

D√©clencheurs automatiques :

Lib√©ration automatique apr√®s validation manuelle de la marque.

Notification email + tableau de bord mis √† jour.

Si litige, ouverture d‚Äôun ticket de support vers DEVORA Escrow Mediation.

Architecture sugg√©r√©e :

Frontend : React / Next.js (tableaux de bord marques et cr√©ateurs).

Backend : Node.js + Express.

Base de donn√©es : Supabase ou PostgreSQL.

Paiement : int√©gration API Stripe ou PayPal (mode ‚ÄúEscrow / Connect‚Äù).

Webhook s√©curis√© : pour suivre les √©tats (payment_intent.succeeded, payment_release).

S√©curit√© :

Chaque transaction a un ID unique li√© √† la campagne et aux deux utilisateurs.

Historique complet des mouvements conserv√© dans la base de donn√©es.

Authentification JWT + chiffrement SSL.

Table escrow_transactions (exemple SQL) :

id SERIAL PRIMARY KEY,
campaign_id UUID REFERENCES campaigns(id),
brand_id UUID REFERENCES brands(id),
creator_id UUID REFERENCES creators(id),
amount DECIMAL(10,2),
status VARCHAR(20) CHECK (status IN ('pending_funds', 'under_review', 'released', 'disputed')),
created_at TIMESTAMP DEFAULT NOW(),
updated_at TIMESTAMP DEFAULT NOW()


API Routes Backend :

POST /escrow/deposit ‚Üí d√©p√¥t du budget par la marque.

POST /escrow/release ‚Üí lib√©ration du paiement au cr√©ateur.

POST /escrow/dispute ‚Üí signaler un litige.

GET /escrow/status/:id ‚Üí v√©rifier l‚Äô√©tat d‚Äôune transaction.

Optionnel : cr√©er un tableau de bord Escrow Admin (DEVORA) pour superviser les transactions et r√©soudre les litiges.

üîí Objectif global :

Garantir que les marques ne paient que lorsque le contenu est valid√©, et que les cr√©ateurs soient prot√©g√©s contre les refus injustifi√©s, tout en offrant transparence, tra√ßabilit√© et s√©curit√© financi√®re.