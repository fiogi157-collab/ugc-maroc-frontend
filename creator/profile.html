<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>UGC Maroc - Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: '#7C3AED',
            'background-dark': '#0D0D1A',
            'card-dark': '#1A1A2E',
          },
        },
      },
    };
</script>
<style>
    body { font-family: 'Tajawal', sans-serif; }
    .glow-card { box-shadow: 0 0 15px rgba(124, 58, 237, 0.2); transition: all 0.3s ease; }
    .glow-card:hover { box-shadow: 0 0 25px rgba(124, 58, 237, 0.4); }
    .section-divider { border-top: 2px solid rgba(124, 58, 237, 0.2); margin: 2rem 0; }
    .upload-zone { border: 2px dashed rgba(124, 58, 237, 0.5); transition: all 0.3s ease; }
    .upload-zone:hover { border-color: #7C3AED; background: rgba(124, 58, 237, 0.05); }
    .tag-chip { transition: all 0.2s ease; }
    .tag-chip:hover { transform: translateY(-2px); }
    .toast { animation: slideInRight 0.3s ease; }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
    .stat-card { background: linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(29, 77, 201, 0.1) 100%); }
</style>
</head>
<body class="bg-background-dark text-gray-200">
<script>document.documentElement.classList.add('dark');</script>

<!-- Mobile Header -->
<header class="bg-card-dark p-4 sticky top-0 z-40 border-b border-primary/20">
<div class="flex items-center justify-between">
<a href="/creator/creator_dashboard_1.html" class="p-2 rounded-lg hover:bg-gray-700">
<span class="material-icons">arrow_forward</span>
</a>
<h1 class="text-xl font-bold text-white">Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ</h1>
<button onclick="saveProfile()" class="bg-primary text-white px-4 py-2 rounded-lg font-semibold hover:bg-primary/90 transition text-sm">
Ø­ÙØ¸
</button>
</div>
</header>

<main class="pb-20">
<!-- Profile Header Card -->
<div class="bg-gradient-to-r from-primary/20 to-blue-500/20 p-6">
<div class="flex flex-col items-center text-center">
<div class="relative mb-4">
<img id="profileImage" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCmHi2r7jqzN8GpUovDFPNQnifnDASS3qhnybpZfGQ6TmlC4jHteBAXgKzZxN4HcufNYzNa1alX_cFIIxXGthnhFBLwJNfV0hhFGUknsy1Z1BHEGWAhsYmaxg1zDnT5wwE1y4q_iYxv2VSSn29-KOg73xF0_2yE8urfAdY4N1KGw6pYhgQ2vc5IjVZLbTucd5O-A8kPVkDp-Amt-_b3rz9g5fTr_bRtqo36UOJ7ijd-GQzIKrRDU5DSEgt_7kfwoasqsuXQuGg78FM" alt="Profile" class="w-24 h-24 rounded-full border-4 border-primary"/>
<button onclick="document.getElementById('photoUpload').click()" class="absolute bottom-0 right-0 bg-primary text-white p-2 rounded-full hover:bg-primary/90 transition">
<span class="material-icons text-sm">camera_alt</span>
</button>
<input type="file" id="photoUpload" class="hidden" accept="image/*" onchange="handlePhotoUpload(event)"/>
</div>
<h2 id="displayName" class="text-2xl font-bold text-white mb-1">...</h2>
<p class="text-gray-400 mb-3">Ù…Ù†Ø´Ø¦ Ù…Ø­ØªÙˆÙ‰</p>
<div class="flex gap-2">
<span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs font-semibold flex items-center">
<span class="material-icons text-xs ml-1">verified</span>
Ù…ÙˆØ«Ù‚
</span>
<span id="displayRating" class="bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-full text-xs font-semibold">
â­ --
</span>
</div>
</div>
</div>

<!-- Statistics Grid -->
<div class="grid grid-cols-2 gap-3 p-4">
<div class="stat-card p-4 rounded-lg border border-primary/30">
<div class="flex items-center justify-between mb-2">
<span class="material-icons text-primary">movie</span>
<span id="stat-videos" class="text-2xl font-bold text-white">--</span>
</div>
<p class="text-xs text-gray-400">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</p>
</div>
<div class="stat-card p-4 rounded-lg border border-green-500/30">
<div class="flex items-center justify-between mb-2">
<span class="material-icons text-green-400">check_circle</span>
<span id="stat-acceptance" class="text-2xl font-bold text-white">--</span>
</div>
<p class="text-xs text-gray-400">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù‚Ø¨ÙˆÙ„</p>
</div>
<div class="stat-card p-4 rounded-lg border border-yellow-500/30">
<div class="flex items-center justify-between mb-2">
<span class="material-icons text-yellow-400">star</span>
<span id="stat-rating" class="text-2xl font-bold text-white">--</span>
</div>
<p class="text-xs text-gray-400">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…ØªÙˆØ³Ø·</p>
</div>
<div class="stat-card p-4 rounded-lg border border-blue-500/30">
<div class="flex items-center justify-between mb-2">
<span class="material-icons text-blue-400">schedule</span>
<span id="stat-delivery" class="text-2xl font-bold text-white">--</span>
</div>
<p class="text-xs text-gray-400">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ³Ù„ÙŠÙ…</p>
</div>
</div>

<!-- Personal Information -->
<div class="p-4">
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">person</span>
Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©
</h3>
<div class="space-y-4">
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
<input type="text" id="fullName" value="" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
<input type="email" id="email" value="" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
<input type="tel" id="phone" value="" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ù†Ø¨Ø°Ø© Ø¹Ù†ÙŠ</label>
<textarea id="bio" rows="4" placeholder="Ø§ÙƒØªØ¨ Ù†Ø¨Ø°Ø© Ù‚ØµÙŠØ±Ø© Ø¹Ù†Ùƒ ÙˆØ®Ø¨Ø±Ø§ØªÙƒ..." class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary"></textarea>
</div>
</div>
</div>

<!-- Portfolio -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">video_library</span>
Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
</h3>
<div id="portfolioGrid" class="grid grid-cols-2 gap-3 mb-4">
<div class="upload-zone rounded-lg p-8 text-center cursor-pointer" onclick="document.getElementById('videoUpload').click()">
<span class="material-icons text-4xl text-primary mb-2 block">add_circle</span>
<p class="text-sm text-gray-400">Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆ</p>
<input type="file" id="videoUpload" class="hidden" accept="video/*" multiple onchange="handleVideoUpload(event)"/>
</div>
<div class="relative rounded-lg overflow-hidden bg-gray-800 aspect-video">
<video class="w-full h-full object-cover" poster="https://via.placeholder.com/300x200/1A1A2E/7C3AED?text=Video+1">
<source src="#" type="video/mp4"/>
</video>
<button onclick="removeVideo(this)" class="absolute top-2 left-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600">
<span class="material-icons text-sm">close</span>
</button>
</div>
<div class="relative rounded-lg overflow-hidden bg-gray-800 aspect-video">
<video class="w-full h-full object-cover" poster="https://via.placeholder.com/300x200/1A1A2E/7C3AED?text=Video+2">
<source src="#" type="video/mp4"/>
</video>
<button onclick="removeVideo(this)" class="absolute top-2 left-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600">
<span class="material-icons text-sm">close</span>
</button>
</div>
</div>
<p class="text-xs text-gray-500 flex items-center">
<span class="material-icons text-xs ml-1">info</span>
ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø­ØªÙ‰ 6 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù†Ù…ÙˆØ°Ø¬ÙŠØ©
</p>
</div>

<!-- Specializations -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">label</span>
Ø§Ù„ØªØ®ØµØµØ§Øª
</h3>
<div class="flex flex-wrap gap-2 mb-4">
<button onclick="toggleTag(this)" class="tag-chip bg-primary/20 text-primary border border-primary/30 px-4 py-2 rounded-full text-sm font-semibold" data-active="true">
Ø§Ù„Ø¬Ù…Ø§Ù„
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-primary/20 text-primary border border-primary/30 px-4 py-2 rounded-full text-sm font-semibold" data-active="true">
Ø§Ù„Ù…ÙˆØ¶Ø©
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„ØªÙ‚Ù†ÙŠØ©
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„Ø·Ø¹Ø§Ù…
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„Ø³ÙØ±
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„Ø±ÙŠØ§Ø¶Ø©
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„ØªØ¹Ù„ÙŠÙ…
</button>
<button onclick="toggleTag(this)" class="tag-chip bg-gray-700 text-gray-400 border border-gray-600 px-4 py-2 rounded-full text-sm font-semibold" data-active="false">
Ø§Ù„Ø¯ÙŠÙƒÙˆØ±
</button>
</div>
<p class="text-xs text-gray-500">Ø§Ø®ØªØ± Ø­ØªÙ‰ 5 ØªØ®ØµØµØ§Øª</p>
</div>

<!-- Pricing -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">payments</span>
Ø§Ù„ØªØ³Ø¹ÙŠØ±
</h3>
<div class="space-y-4">
<div class="bg-gray-800 rounded-lg p-4">
<div class="flex items-center justify-between mb-2">
<div class="flex items-center">
<span class="material-icons text-yellow-400 ml-2">schedule</span>
<span class="text-white font-semibold">ÙÙŠØ¯ÙŠÙˆ 30 Ø«Ø§Ù†ÙŠØ©</span>
</div>
<div class="flex items-center">
<input type="number" id="price30s" value="500" class="w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-center focus:outline-none focus:ring-2 focus:ring-primary"/>
<span class="text-gray-400 mr-2">Ø¯.Ù…</span>
</div>
</div>
</div>
<div class="bg-gray-800 rounded-lg p-4">
<div class="flex items-center justify-between mb-2">
<div class="flex items-center">
<span class="material-icons text-blue-400 ml-2">schedule</span>
<span class="text-white font-semibold">ÙÙŠØ¯ÙŠÙˆ 60 Ø«Ø§Ù†ÙŠØ©</span>
</div>
<div class="flex items-center">
<input type="number" id="price60s" value="800" class="w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-center focus:outline-none focus:ring-2 focus:ring-primary"/>
<span class="text-gray-400 mr-2">Ø¯.Ù…</span>
</div>
</div>
</div>
<div class="bg-gray-800 rounded-lg p-4">
<div class="flex items-center justify-between mb-2">
<div class="flex items-center">
<span class="material-icons text-green-400 ml-2">schedule</span>
<span class="text-white font-semibold">ÙÙŠØ¯ÙŠÙˆ 90 Ø«Ø§Ù†ÙŠØ©</span>
</div>
<div class="flex items-center">
<input type="number" id="price90s" value="1200" class="w-24 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-center focus:outline-none focus:ring-2 focus:ring-primary"/>
<span class="text-gray-400 mr-2">Ø¯.Ù…</span>
</div>
</div>
</div>
</div>
<p class="text-xs text-gray-500 mt-3 flex items-center">
<span class="material-icons text-xs ml-1">info</span>
ÙŠØªÙ… Ø®ØµÙ… Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ù†ØµØ© 15% Ù…Ù† ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ©
</p>
</div>

<!-- Bank Information -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">account_balance</span>
Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ù†ÙƒÙŠØ©
</h3>
<div class="space-y-4">
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨</label>
<input type="text" id="bankAccountName" value="" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary"/>
</div>
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø§Ø³Ù… Ø§Ù„Ø¨Ù†Ùƒ</label>
<select id="bankName" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary">
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù†Ùƒ</option>
<option value="attijariwafa">Attijariwafa Bank</option>
<option value="bmce">BMCE Bank</option>
<option value="bp">Banque Populaire</option>
<option value="cih">CIH Bank</option>
<option value="cdm">CrÃ©dit du Maroc</option>
<option value="sgmb">SociÃ©tÃ© GÃ©nÃ©rale</option>
<option value="bmci">BMCI</option>
</select>
</div>
<div>
<label class="block text-sm font-medium text-gray-400 mb-2">Ø±Ù‚Ù… RIB</label>
<input type="text" id="bankRIB" value="" maxlength="24" class="w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white font-mono focus:outline-none focus:ring-2 focus:ring-primary"/>
</div>
</div>
<div class="bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 mt-4">
<p class="text-xs text-blue-300 flex items-start">
<span class="material-icons text-sm ml-2 mt-0.5">lock</span>
Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø¨Ù†ÙƒÙŠØ© Ù…Ø­Ù…ÙŠØ© ÙˆÙ…Ø´ÙØ±Ø©. ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ ÙÙ‚Ø· Ù„ØªØ­ÙˆÙŠÙ„ Ø£Ø±Ø¨Ø§Ø­Ùƒ.
</p>
</div>
</div>

<!-- Languages -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">language</span>
Ø§Ù„Ù„ØºØ§Øª
</h3>
<div class="space-y-3">
<label class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
<div class="flex items-center">
<span class="text-white font-semibold">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
</div>
<input type="checkbox" data-lang="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©" class="lang-checkbox w-5 h-5 text-primary bg-gray-700 border-gray-600 rounded focus:ring-primary focus:ring-2"/>
</label>
<label class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
<div class="flex items-center">
<span class="text-white font-semibold">Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</span>
</div>
<input type="checkbox" data-lang="Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©" class="lang-checkbox w-5 h-5 text-primary bg-gray-700 border-gray-600 rounded focus:ring-primary focus:ring-2"/>
</label>
<label class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
<div class="flex items-center">
<span class="text-white font-semibold">Ø§Ù„Ø¯Ø§Ø±Ø¬Ø© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©</span>
</div>
<input type="checkbox" data-lang="Ø§Ù„Ø¯Ø§Ø±Ø¬Ø© Ø§Ù„Ù…ØºØ±Ø¨ÙŠØ©" class="lang-checkbox w-5 h-5 text-primary bg-gray-700 border-gray-600 rounded focus:ring-primary focus:ring-2"/>
</label>
<label class="flex items-center justify-between bg-gray-800 rounded-lg p-4">
<div class="flex items-center">
<span class="text-white font-semibold">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</span>
</div>
<input type="checkbox" data-lang="Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©" class="lang-checkbox w-5 h-5 text-primary bg-gray-700 border-gray-600 rounded focus:ring-primary focus:ring-2"/>
</label>
</div>
</div>

<!-- Social Media -->
<div class="bg-card-dark rounded-lg p-4 glow-card mb-4">
<h3 class="text-lg font-bold text-white mb-4 flex items-center">
<span class="material-icons text-primary ml-2">share</span>
Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
<span class="text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full mr-2 font-normal">Ø§Ø®ØªÙŠØ§Ø±ÙŠ</span>
</h3>
<div class="space-y-4">
<div class="flex items-center bg-gray-800 rounded-lg p-4">
<span class="material-icons text-pink-400 ml-3">camera_alt</span>
<input type="text" id="socialInstagram" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Instagram" class="flex-1 bg-transparent border-none text-white focus:outline-none"/>
</div>
<div class="flex items-center bg-gray-800 rounded-lg p-4">
<span class="material-icons text-blue-400 ml-3">music_note</span>
<input type="text" id="socialTikTok" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ TikTok" class="flex-1 bg-transparent border-none text-white focus:outline-none"/>
</div>
<div class="flex items-center bg-gray-800 rounded-lg p-4">
<span class="material-icons text-red-400 ml-3">play_circle</span>
<input type="text" id="socialYouTube" placeholder="Ù‚Ù†Ø§Ø© YouTube" class="flex-1 bg-transparent border-none text-white focus:outline-none"/>
</div>
</div>
<p class="text-xs text-gray-500 mt-3 flex items-center">
<span class="material-icons text-xs ml-1">info</span>
Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ø§ØªÙƒ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙŠØ²ÙŠØ¯ Ù…Ù† ÙØ±Øµ Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù„Ù„Ø­Ù…Ù„Ø§Øª
</p>
</div>

<!-- Actions -->
<div class="space-y-3 mb-4">
<button onclick="saveProfile()" class="w-full bg-primary text-white px-6 py-4 rounded-lg font-bold hover:bg-primary/90 transition flex items-center justify-center text-lg">
<span class="material-icons ml-3">save</span>
Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
</button>
<button onclick="previewProfile()" class="w-full bg-gray-700 text-white px-6 py-4 rounded-lg font-bold hover:bg-gray-600 transition flex items-center justify-center">
<span class="material-icons ml-3">visibility</span>
Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
</button>
</div>

<!-- Danger Zone -->
<div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
<h3 class="text-lg font-bold text-red-400 mb-3 flex items-center">
<span class="material-icons ml-2">warning</span>
Ù…Ù†Ø·Ù‚Ø© Ø®Ø·Ø±Ø©
</h3>
<button onclick="confirmAccountDeletion()" class="w-full bg-red-500/20 text-red-400 px-6 py-3 rounded-lg font-semibold hover:bg-red-500/30 transition border border-red-500/50">
Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹
</button>
</div>
</div>
</main>

<!-- Bottom Navigation -->
<nav class="fixed bottom-0 left-0 right-0 bg-card-dark border-t border-primary/20 px-4 py-3 z-40">
<div class="flex items-center justify-around">
<a href="/creator/creator_dashboard_1.html" class="flex flex-col items-center text-gray-400 hover:text-primary transition">
<span class="material-icons">dashboard</span>
<span class="text-xs mt-1">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
</a>
<a href="/creator/ØªØµÙØ­_Ø§Ù„Ø­Ù…Ù„Ø§Øª_(Ù„Ù„Ù…Ø¨Ø¯Ø¹ÙŠÙ†).html" class="flex flex-col items-center text-gray-400 hover:text-primary transition">
<span class="material-icons">work_outline</span>
<span class="text-xs mt-1">Ø§Ù„Ø­Ù…Ù„Ø§Øª</span>
</a>
<a href="/creator/Ø³Ø­Ø¨_ÙˆØªØ§Ø±ÙŠØ®_Ø§Ù„Ø£Ø±Ø¨Ø§Ø­_(Ù„Ù„Ù…Ø¨Ø¯Ø¹ÙŠÙ†).html" class="flex flex-col items-center text-gray-400 hover:text-primary transition">
<span class="material-icons">account_balance_wallet</span>
<span class="text-xs mt-1">Ø§Ù„Ù…Ø­ÙØ¸Ø©</span>
</a>
<a href="/creator/profile.html" class="flex flex-col items-center text-primary transition">
<span class="material-icons">person</span>
<span class="text-xs mt-1">Ø§Ù„Ù…Ù„Ù</span>
</a>
</div>
</nav>

<!-- Toast Notification -->
<div id="toast" class="fixed top-6 left-6 hidden toast z-50"></div>

<!-- Supabase Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="/js/config.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/toast.js"></script>
<script src="/js/nav-links.js"></script>

<script>
// =====================================================
// ğŸ” VARIABLES GLOBALES
// =====================================================
let currentUser = null;
let creatorData = null;
let portfolioVideos = [];

// =====================================================
// ğŸ” AUTH CHECK
// =====================================================
async function checkAuth() {
    try {
        // Attendre que Supabase soit initialisÃ©
        if (!window.supabaseClient) {
            await new Promise((resolve) => {
                window.addEventListener('supabaseReady', resolve, { once: true });
            });
        }

        const { data: { user }, error } = await window.supabaseClient.auth.getUser();
        
        if (error || !user) {
            console.log('âŒ Utilisateur non connectÃ© - redirection');
            window.location.href = '/auth/creator-login.html';
            return;
        }

        currentUser = user;
        
        // VÃ©rifier le rÃ´le
        const { data: profile, error: profileError } = await window.supabaseClient
            .from('profiles')
            .select('*')
            .eq('user_id', user.id)
            .single();

        if (profileError || !profile) {
            console.error('âŒ Erreur chargement profil:', profileError);
            window.location.href = '/auth/creator-login.html';
            return;
        }

        if (profile.role !== 'creator') {
            console.log('âŒ Utilisateur n\'est pas crÃ©ateur - redirection');
            const redirects = {
                'brand': '/brand/brand_dashboard_premium.html',
                'admin': '/admin/Ø¥Ø¯Ø§Ø±Ø©_Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†_(Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ†)_3.html'
            };
            window.location.href = redirects[profile.role] || '/index.html';
            return;
        }

        console.log('âœ… Authentification rÃ©ussie');
        await loadCreatorData();
    } catch (err) {
        console.error('âŒ Erreur auth check:', err);
        window.location.href = '/auth/creator-login.html';
    }
}

// =====================================================
// ğŸ“Š CHARGER DONNÃ‰ES CRÃ‰ATEUR
// =====================================================
async function loadCreatorData() {
    try {
        // 1. Charger profil
        const { data: profile, error: profileError } = await window.supabaseClient
            .from('profiles')
            .select('*')
            .eq('user_id', currentUser.id)
            .single();

        if (profileError) throw profileError;

        // 2. Charger donnÃ©es crÃ©ateur
        const { data: creator, error: creatorError } = await window.supabaseClient
            .from('creators')
            .select('*')
            .eq('user_id', currentUser.id)
            .single();

        if (creatorError && creatorError.code !== 'PGRST116') {
            console.error('Erreur chargement creator:', creatorError);
        }

        creatorData = creator;

        // 3. Charger statistiques depuis submissions
        await loadStats();

        // 4. PrÃ©-remplir le formulaire
        fillForm(profile, creator);

    } catch (err) {
        console.error('âŒ Erreur chargement donnÃ©es:', err);
        window.toastManager.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
    }
}

// =====================================================
// ğŸ“Š CHARGER STATISTIQUES
// =====================================================
async function loadStats() {
    try {
        const { data: submissions, error } = await window.supabaseClient
            .from('submissions')
            .select('*')
            .eq('creator_id', currentUser.id);

        if (error) throw error;

        const totalVideos = submissions ? submissions.length : 0;
        const approvedVideos = submissions ? submissions.filter(s => s.status === 'approved').length : 0;
        const acceptanceRate = totalVideos > 0 ? Math.round((approvedVideos / totalVideos) * 100) : 0;
        
        // Calculer rating moyen
        const ratingsData = submissions ? submissions.filter(s => s.rating).map(s => s.rating) : [];
        const avgRating = ratingsData.length > 0 
            ? (ratingsData.reduce((a, b) => a + b, 0) / ratingsData.length).toFixed(1) 
            : '0.0';

        // Calculer dÃ©lai moyen (simplifiÃ© - en heures)
        const avgDelivery = '48h'; // Ã€ calculer depuis les donnÃ©es rÃ©elles

        // Afficher
        document.getElementById('stat-videos').textContent = approvedVideos;
        document.getElementById('stat-acceptance').textContent = acceptanceRate + '%';
        document.getElementById('stat-rating').textContent = avgRating;
        document.getElementById('stat-delivery').textContent = avgDelivery;
        document.getElementById('displayRating').textContent = 'â­ ' + avgRating;

    } catch (err) {
        console.error('âŒ Erreur chargement stats:', err);
    }
}

// =====================================================
// ğŸ“ PRÃ‰-REMPLIR FORMULAIRE
// =====================================================
function fillForm(profile, creator) {
    // Informations personnelles
    document.getElementById('fullName').value = profile.full_name || '';
    document.getElementById('email').value = profile.email || '';
    document.getElementById('phone').value = profile.phone || '';
    document.getElementById('bio').value = creator?.bio || profile.bio || '';
    
    document.getElementById('displayName').textContent = profile.full_name || 'CrÃ©ateur';
    
    // Photo de profil
    if (profile.avatar_url) {
        document.getElementById('profileImage').src = profile.avatar_url;
    }

    // Pricing
    if (creator?.pricing) {
        const pricing = typeof creator.pricing === 'string' ? JSON.parse(creator.pricing) : creator.pricing;
        document.getElementById('price30s').value = pricing['30s'] || 500;
        document.getElementById('price60s').value = pricing['60s'] || 800;
        document.getElementById('price90s').value = pricing['90s'] || 1200;
    }

    // SpÃ©cialisations
    if (creator?.specializations) {
        const specializations = Array.isArray(creator.specializations) 
            ? creator.specializations 
            : JSON.parse(creator.specializations || '[]');
        
        document.querySelectorAll('.tag-chip').forEach(tag => {
            const tagText = tag.textContent.trim();
            if (specializations.includes(tagText)) {
                tag.classList.remove('bg-gray-700', 'text-gray-400', 'border-gray-600');
                tag.classList.add('bg-primary/20', 'text-primary', 'border-primary/30');
                tag.dataset.active = 'true';
            }
        });
    }

    // Informations bancaires - StockÃ©es dans le profil
    document.getElementById('bankAccountName').value = profile.full_name || '';
    document.getElementById('bankName').value = '';
    document.getElementById('bankRIB').value = '';

    // RÃ©seaux sociaux - RÃ©initialiser pour l'instant
    document.getElementById('socialInstagram').value = '';
    document.getElementById('socialTikTok').value = '';
    document.getElementById('socialYouTube').value = '';

    // Langues - RÃ©initialiser pour l'instant
    document.querySelectorAll('.lang-checkbox').forEach(checkbox => {
        checkbox.checked = false;
    });

    // Portfolio vidÃ©os
    if (creator?.portfolio_videos) {
        portfolioVideos = Array.isArray(creator.portfolio_videos) 
            ? creator.portfolio_videos 
            : JSON.parse(creator.portfolio_videos || '[]');
        renderPortfolioVideos();
    }
}

// =====================================================
// ğŸ¬ RENDER PORTFOLIO VIDEOS
// =====================================================
function renderPortfolioVideos() {
    const grid = document.getElementById('portfolioGrid');
    const uploadButton = grid.querySelector('.upload-zone').parentElement.innerHTML;
    
    let html = uploadButton;
    
    portfolioVideos.forEach((videoUrl, index) => {
        html += `
            <div class="relative rounded-lg overflow-hidden bg-gray-800 aspect-video">
                <video class="w-full h-full object-cover" controls>
                    <source src="${videoUrl}" type="video/mp4"/>
                </video>
                <button onclick="removeVideo(${index})" class="absolute top-2 left-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600">
                    <span class="material-icons text-sm">close</span>
                </button>
            </div>
        `;
    });
    
    grid.innerHTML = html;
}

// =====================================================
// ğŸ“¸ UPLOAD PHOTO PROFIL
// =====================================================
async function handlePhotoUpload(event) {
    const file = event.target.files[0];
    if (!file) return;

    try {
        window.toastManager.info('ğŸ“¤ Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©...');

        // Upload vers Supabase Storage
        const uploadResult = await window.utils.uploadFile(file, 'avatars');
        
        if (!uploadResult.success) {
            throw new Error(uploadResult.error);
        }

        // Update profile
        const { error } = await window.supabaseClient
            .from('profiles')
            .update({ avatar_url: uploadResult.url })
            .eq('user_id', currentUser.id);

        if (error) throw error;

        // Afficher preview
        document.getElementById('profileImage').src = uploadResult.url;
        window.toastManager.success('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­');

    } catch (err) {
        console.error('âŒ Erreur upload photo:', err);
        window.toastManager.error('âŒ ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©');
    }
}

// =====================================================
// ğŸ¬ UPLOAD VIDÃ‰OS PORTFOLIO
// =====================================================
async function handleVideoUpload(event) {
    const files = Array.from(event.target.files);
    if (files.length === 0) return;

    if (portfolioVideos.length + files.length > 6) {
        window.toastManager.warning('âš ï¸ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© 6 ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰');
        return;
    }

    try {
        window.toastManager.info(`ğŸ“¤ Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ ${files.length} ÙÙŠØ¯ÙŠÙˆ(Ù‡Ø§Øª)...`);

        for (const file of files) {
            const uploadResult = await window.utils.uploadFile(file, 'portfolio');
            
            if (uploadResult.success) {
                portfolioVideos.push(uploadResult.url);
            }
        }

        // Update database
        const { error } = await window.supabaseClient
            .from('creators')
            .update({ portfolio_videos: portfolioVideos })
            .eq('user_id', currentUser.id);

        if (error) throw error;

        renderPortfolioVideos();
        window.toastManager.success(`âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© ${files.length} ÙÙŠØ¯ÙŠÙˆ(Ù‡Ø§Øª)`);

        // Reset file input
        event.target.value = '';

    } catch (err) {
        console.error('âŒ Erreur upload vidÃ©os:', err);
        window.toastManager.error('âŒ ÙØ´Ù„ Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª');
    }
}

// =====================================================
// ğŸ—‘ï¸ SUPPRIMER VIDÃ‰O
// =====================================================
async function removeVideo(index) {
    if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ')) return;

    try {
        portfolioVideos.splice(index, 1);

        // Update database
        const { error } = await window.supabaseClient
            .from('creators')
            .update({ portfolio_videos: portfolioVideos })
            .eq('user_id', currentUser.id);

        if (error) throw error;

        renderPortfolioVideos();
        window.toastManager.info('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ');

    } catch (err) {
        console.error('âŒ Erreur suppression vidÃ©o:', err);
        window.toastManager.error('âŒ ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ');
    }
}

// =====================================================
// ğŸ·ï¸ TOGGLE TAG SPÃ‰CIALITÃ‰S
// =====================================================
function toggleTag(button) {
    const isActive = button.dataset.active === 'true';
    const activeCount = document.querySelectorAll('.tag-chip[data-active="true"]').length;
    
    if (!isActive && activeCount >= 5) {
        window.toastManager.warning('âš ï¸ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± 5 ØªØ®ØµØµØ§Øª ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰');
        return;
    }
    
    if (isActive) {
        button.classList.remove('bg-primary/20', 'text-primary', 'border-primary/30');
        button.classList.add('bg-gray-700', 'text-gray-400', 'border-gray-600');
        button.dataset.active = 'false';
    } else {
        button.classList.remove('bg-gray-700', 'text-gray-400', 'border-gray-600');
        button.classList.add('bg-primary/20', 'text-primary', 'border-primary/30');
        button.dataset.active = 'true';
    }
}

// =====================================================
// ğŸ’¾ SAUVEGARDER PROFIL
// =====================================================
async function saveProfile() {
    try {
        window.toastManager.info('ğŸ’¾ Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª...');

        // RÃ©cupÃ©rer toutes les donnÃ©es du formulaire
        const fullName = document.getElementById('fullName').value;
        const email = document.getElementById('email').value;
        const phone = document.getElementById('phone').value;
        const bio = document.getElementById('bio').value;

        // Pricing
        const pricing = {
            '30s': parseInt(document.getElementById('price30s').value),
            '60s': parseInt(document.getElementById('price60s').value),
            '90s': parseInt(document.getElementById('price90s').value)
        };

        // SpÃ©cialisations
        const specializations = Array.from(document.querySelectorAll('.tag-chip[data-active="true"]'))
            .map(tag => tag.textContent.trim());

        // Langues
        const languages = Array.from(document.querySelectorAll('.lang-checkbox:checked'))
            .map(cb => cb.dataset.lang);

        // Note: Bank info & social media temporarily not saved (metadata column removed)
        // TODO: Add dedicated columns for this data in future update
        const bankAccountName = document.getElementById('bankAccountName').value;
        const bankName = document.getElementById('bankName').value;
        const rib = document.getElementById('bankRIB').value;
        const socialInstagram = document.getElementById('socialInstagram').value;
        const socialTikTok = document.getElementById('socialTikTok').value;
        const socialYouTube = document.getElementById('socialYouTube').value;

        // Update profiles table (removed metadata reference)
        const { error: profileError } = await window.supabaseClient
            .from('profiles')
            .update({
                full_name: fullName,
                email: email,
                phone: phone,
                bio: bio
            })
            .eq('user_id', currentUser.id);

        if (profileError) throw profileError;

        // Update creators table (upsert si n'existe pas)
        const { error: creatorError } = await window.supabaseClient
            .from('creators')
            .upsert({
                user_id: currentUser.id,
                bio: bio,
                specializations: specializations,
                pricing: pricing,
                portfolio_videos: portfolioVideos
            }, {
                onConflict: 'user_id'
            });

        if (creatorError) throw creatorError;

        window.toastManager.success('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
        
        // Recharger les donnÃ©es
        setTimeout(() => {
            loadCreatorData();
        }, 1000);

    } catch (err) {
        console.error('âŒ Erreur sauvegarde:', err);
        window.toastManager.error('âŒ ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª');
    }
}

// =====================================================
// ğŸ‘ï¸ PREVIEW PROFIL
// =====================================================
function previewProfile() {
    window.toastManager.info('ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ù‚Ø±ÙŠØ¨Ø§Ù‹...');
}

// =====================================================
// âš ï¸ SUPPRESSION COMPTE
// =====================================================
function confirmAccountDeletion() {
    if (confirm('âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡!')) {
        if (confirm('â›” ØªØ£ÙƒÙŠØ¯ Ù†Ù‡Ø§Ø¦ÙŠ: Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…!')) {
            window.toastManager.error('â›” Ù…ÙŠØ²Ø© Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù….');
        }
    }
}

// Fallback showToast pour compatibilitÃ©
function showToast(message, type) {
    if (window.toastManager) {
        window.toastManager.show(message, type);
    }
}

// =====================================================
// ğŸš€ INITIALISATION
// =====================================================
document.addEventListener('DOMContentLoaded', () => {
    checkAuth();
});

</script>
</body>
</html>
